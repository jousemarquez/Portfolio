<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Microproject #1 — XRP Advisor (Technical Analysis)</title>
  <meta content="Technical analysis of the XRP Advisor microproject: architecture, design decisions, robust code, CI/CD, and deployment." name="description">
  <meta content="nodejs, telegram, coingecko, github actions, architecture, testing, microprojects" name="keywords">
  <meta name="revised" content="Tuesday, August 12 2025, 20:00">

  <!-- Favicons -->
  <link href="../img/favicon.png" rel="icon">
  <link href="../img/favicon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Raleway:300,400,500,700|Poppins:300,400,500,700" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="../assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="../assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="../assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="../assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="../assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="../css/style.css" rel="stylesheet">
</head>

<body>

  <main id="main">

    <!-- ======= Blog Details ======= -->
    <div id="blog-details" class="blog-details">
      <div class="container">

        <div class="row">

          <div class="col-lg-8">
            <h2 class="blog-title">Microproject #1 — XRP Advisor (Technical Analysis)</h2>
          </div>

          <div class="col-lg-12 blog-info">
            <h3>Post info</h3>
            <ul>
              <li><strong>Category</strong>: Microprojects / Engineering</li>
              <li><strong>Summary</strong>: Design and technical decisions of a bot that posts XRP price every 30 minutes.</li>
              <li><strong>Date</strong>: August 12, 2025</li>
              <li><strong>Hashtags</strong>: #nodejs | #telegram | #ci | #architecture | #microprojects</li>
            </ul>

            <img src="./img/xrp-advisor.png" alt="XRP Advisor" class="img-fluid mb-2"> <br/>

            <h3>Introduction and Motivation</h3>
            <p>
              The goal of this microproject was clear and self-imposed: to build something that can be completed in a weekend
              and that covers a small real-world flow (query a public API, persist state, post a result to a channel).
              The result is <a href="https://xrp-advisor.vercel.app/" target="_blank" rel="noopener noreferrer">XRP Advisor</a>, a
              process that every 30 minutes fetches the XRP price in USD, compares it with the last measurement, and sends a message to a
              private Telegram channel.
            </p>

            <h3>Functional and Non-Functional Requirements</h3>
            <ul>
              <li><strong>Functional</strong>: fetch XRP price, calculate absolute variation, send summary to Telegram.</li>
              <li><strong>Non-functional</strong>:
                <ul>
                  <li>Minimal fault tolerance (retries on transient failures).</li>
                  <li>Lightweight persistence of the last price.</li>
                  <li>Configuration via environment variables (secrets in CI).</li>
                  <li>Automation: run every 30 minutes without dedicated server (GitHub Actions cron).</li>
                </ul>
              </li>
            </ul>

            <h3>Design and Architectural Decisions</h3>
            <p>
              For a project of this scope, I made decisions oriented to simplicity and maintainability:
            </p>
            <ol>
              <li><strong>Periodic process</strong>: use of a scheduled runner (GitHub Actions) to avoid maintaining 24/7 infrastructure.</li>
              <li><strong>Persistence</strong>: initially a JSON file in the workspace. This is enough for testing but has
                limitations on ephemeral runners. Alternatives are explained below (lightweight database, remote storage).</li>
              <li><strong>Robustness</strong>: exponential retries on API calls, response validation, and atomic file writing.</li>
              <li><strong>Observability</strong>: meaningful logs and failure notifications to the Telegram channel itself (or to an alerts channel).</li>
              <li><strong>Security</strong>: use managed secrets (GitHub Secrets / environment variables) and never commit credentials.</li>
            </ol>

            <h3>Considerations on Persistence</h3>
            <p>
              Saving the last price in <code>last_price.json</code> is the simplest way but has limitations:
            </p>
            <ul>
              <li>On ephemeral runners (GitHub Actions), the workspace doesn’t persist between executions — to keep the file you would need to commit/push it or use an artifact.</li>
              <li>If the service scales (multiple instances), the local file can’t serve as a single source of truth.</li>
            </ul>
            <p>Recommended alternatives (in ascending complexity):</p>
            <ol>
              <li>Use a small remote store: Redis (e.g., Upstash) or a table in Firebase / Supabase.</li>
              <li>Use a blob storage (S3/GCS) and write the JSON there.</li>
              <li>If sticking to GitHub Actions, use a step that commits the file to the repo (requires careful use of <code>GITHUB_TOKEN</code>).</li>
            </ol>

            <h3>Example: GitHub Actions Workflow (cron every 30 min)</h3>
            <p>This workflow runs the script every 30 minutes. Make sure to add <code>SECRETS</code> (TELEGRAM_TOKEN and CHAT_ID) in GitHub.</p>

            <pre class="bg-dark p-3 rounded"><code class="text-monospace">name: Send XRP update
on:
  schedule:
    - cron: '*/30 * * * *' # every 30 minutes
  workflow_dispatch: {}

jobs:
  send-update:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: node send_update.js
        env:
          TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
          # GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</code></pre>

            <h3>Future Improvements and Roadmap</h3>
            <ol>
              <li>Remote persistence (Upstash/Supabase) to avoid problems with ephemeral runners.</li>
              <li>Price history and small metrics (e.g., 24h max/min) on a minimal public endpoint or dashboard.</li>
              <li>Bot options: allow ad-hoc requests ("/price") or threshold subscriptions.</li>
              <li>Simple dashboard (React/Vercel) showing latest readings and errors.</li>
            </ol>

            <h3>Conclusion</h3>
            <p>
              XRP Advisor started as a weekend exercise but with careful technical decisions: basic fault tolerance,
              atomic writes, and an architecture that allows evolution. To move from microproject to production service,
              persistence, observability, and deployment permissions would need improvement; however, for the original purpose
              (quick practice, learning, and delivery) the solution is adequate and easily extensible. Hope you like it!
            </p>

            <img src="./img/xrp-advisor-2.png" alt="XRP Advisor" class="img-fluid">

            <p><strong>Useful Links</strong>:</p>
            <ul>
              <li>Project website: <a href="https://xrp-advisor.vercel.app/" target="_blank" rel="noopener noreferrer">xrp-advisor.vercel.app</a></li>
              <li>Telegram bot <a href="https://t.me/xrp_advisor_bot" target="_blank" rel="noopener noreferrer">@xrp_advisor_bot</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div><!-- End Blog Details -->

  </main><!-- End #main -->

  <div class="credits">
  </div>

  <!-- Vendor JS Files -->
  <script src="../assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="../assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="../assets/vendor/php-email-form/validate.js"></script>

  <!-- Main JS File -->
  <script src="../assets/js/main.js"></script>

</body>

</html>
